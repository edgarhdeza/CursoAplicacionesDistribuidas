@using DWShop.Application.Features.Category.Commands.Create
@using Blazored.FluentValidation

<EditForm Model="@CategoryCommand" OnInvalidSubmit="InvalidSubmit">
    <FluentValidationValidator />

    <MudDialog>
        <TitleContent>
            <MudText Typo="Typo.h6"> <MudIcon Icon="@Icons.Material.Filled.Add" /> </MudText>
        </TitleContent>

        <DialogContent>
            <MudGrid>
                <MudItem md="12">
                    <MudTextField For="() => CategoryCommand.Name" @bind-Value="CategoryCommand.Name" Label="Nombre" />
                </MudItem>

                <MudItem xs="12">
                    <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary">Guardar</MudButton>
                </MudItem>
            </MudGrid>
        </DialogContent>
    </MudDialog>
</EditForm>

@code {
    [Parameter]
    public CreateCategoryCommand CategoryCommand { get; set; } = new();

    [Parameter]
    public bool IsEdit { get; set; } = false;

    private async Task InvalidSubmit()
    {
        _snackbar.Add("Revise todos los campos", Severity.Error);
    }
}
